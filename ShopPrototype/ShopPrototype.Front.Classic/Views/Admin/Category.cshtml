@using ShopPrototype.Modules.Admin.Models

@model FacilityCategoryModel

@{
	ViewBag.Title = Model.Title;
}

<h2>@ViewBag.Title</h2>

<div class="row">
	<div class="col-sm-6">
		<h3>Категория и услуги</h3>
		@using (Html.BeginForm("Category", "Admin", FormMethod.Post, new { @class = "form-horizontal" }))
		{
			@Html.HiddenFor(m => m.Id)
			<div class="form-group">
				@Html.LabelFor(m => m.Title, "Название", new { @class = "col-md-2 control-label" })
				<div class="col-sm-10">
					@Html.EditorFor(m => m.Title, new { htmlAttributes = new { @class = "form-control", @type = "text", placeholder = "Название категории" } })
				</div>
			</div>
			<div class="form-group">
				@Html.LabelFor(m => m.SortOrder, "Номер", new { @class = "col-md-2 control-label" })
				<div class="col-sm-10">
					@Html.EditorFor(m => m.SortOrder, new { htmlAttributes = new { @class = "form-control", @type = "number", placeholder = "Порядок вывода" } })
				</div>
			</div>
			<h3>Услуги</h3>
			<div>
				<table class="table table-condensed">
					<thead>
						<tr><th>Номер</th><th>Название</th><th>Продолжительность</th></tr>
					</thead>
					<tbody>
						@Html.EditorFor(m => m.Facilities)
					</tbody>
				</table>
			</div>

			<div class="form-group">
				<div class="col-sm-offset-2 col-sm-10">
					<button type="submit" class="btn btn-primary">Сохранить</button>
				</div>
			</div>
		}
	</div>
	<div class="col-sm-6">
		<h3>Новая услуга</h3>
		@using (Html.BeginForm("AddFacility", "Admin", FormMethod.Post, new { @class = "form-horizontal" }))
		{
			<input type="hidden" name="FacilityCategoryId" id="FacilityCategoryId" value="@Model.Id" />
			<div class="form-group">
				<label for="Title" class="col-sm-4 control-label">Название</label>
				<div class="col-sm-8">
					<input type="text" class="form-control" id="Title" name="Title" placeholder="Название услуги" />
				</div>
			</div>
			<div class="form-group">
				<label for="SortOrder" class="col-sm-4 control-label">Номер</label>
				<div class="col-sm-8">
					<input type="number" class="form-control" id="SortOrder" name="SortOrder" placeholder="Порядок вывода" value="@Model.NewFacilityNumber" />
				</div>
			</div>
			<div class="form-group">
				<label for="DurationMin" class="col-sm-4 control-label">Продолжительность, мин</label>
				<div class="col-sm-8">
					<input type="number" class="form-control" id="DurationMin" name="DurationMin" placeholder="Время, мин" />
				</div>
			</div>
			<div class="form-group">
				<div class="col-sm-offset-4 col-sm-8">
					<button type="submit" class="btn btn-default">Добавить</button>
				</div>
			</div>
		}
	</div>
</div>
